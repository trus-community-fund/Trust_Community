{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/lib/firebase.js"],"sourcesContent":["import firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/database';\n\nexport const initFirebase = async () => {\n  try {\n    // 1. Agar pehle se koi App hai, to check karo usme URL hai ya nahi\n    if (firebase.apps.length) {\n      const currentApp = firebase.app();\n      if (currentApp.options.databaseURL) {\n        return firebase; // Sab sahi hai\n      } else {\n        console.log(\"Old connection broken, resetting...\");\n        await currentApp.delete(); // Purana delete karo\n      }\n    }\n\n    // 2. Naya Connection banao\n    const response = await fetch('/api/config');\n    const data = await response.json();\n\n    // Hardcoded URL taaki error ka chance hi na rahe\n    const config = {\n      ...data.firebase,\n      databaseURL: \"https://bank-master-data-default-rtdb.asia-southeast1.firebasedatabase.app\"\n    };\n\n    firebase.initializeApp(config);\n    console.log(\"Firebase initialized with URL:\", config.databaseURL);\n\n    return firebase;\n  } catch (error) {\n    console.error(\"Firebase Init Error:\", error);\n    return null;\n  }\n};\n\nexport default firebase;\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AACA;;;;AAEO,MAAM,eAAe;IAC1B,IAAI;QACF,mEAAmE;QACnE,IAAI,wLAAQ,CAAC,IAAI,CAAC,MAAM,EAAE;YACxB,MAAM,aAAa,wLAAQ,CAAC,GAAG;YAC/B,IAAI,WAAW,OAAO,CAAC,WAAW,EAAE;gBAClC,OAAO,wLAAQ,EAAE,eAAe;YAClC,OAAO;gBACL,QAAQ,GAAG,CAAC;gBACZ,MAAM,WAAW,MAAM,IAAI,qBAAqB;YAClD;QACF;QAEA,2BAA2B;QAC3B,MAAM,WAAW,MAAM,MAAM;QAC7B,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,iDAAiD;QACjD,MAAM,SAAS;YACb,GAAG,KAAK,QAAQ;YAChB,aAAa;QACf;QAEA,wLAAQ,CAAC,aAAa,CAAC;QACvB,QAAQ,GAAG,CAAC,kCAAkC,OAAO,WAAW;QAEhE,OAAO,wLAAQ;IACjB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO;IACT;AACF;uCAEe,wLAAQ"}},
    {"offset": {"line": 53, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/lib/utils.js"],"sourcesContent":["// src/lib/utils.js\n// Logic Ported from user-data.js\n\nexport const DEFAULT_IMAGE = 'https://i.ibb.co/HTNrbJxD/20250716-222246.png';\nconst PRIME_MEMBERS = [\"Prince Rama\", \"Amit kumar\", \"Mithilesh Sahni\"];\n\n/**\n * Raw Data ko process karne ka logic (Calculation Engine).\n * Yeh Firebase se aane wale raw data ko UI-friendly format mein badalta hai.\n */\nexport function processRawData(data) {\n    if (!data) return { processedMembers: [], communityStats: {} };\n\n    const allMembersRaw = data.members || {};\n    const allTransactionsRaw = data.transactions || {};\n    const allActiveLoansRaw = data.activeLoans || {};\n    const penaltyWalletRaw = data.penaltyWallet || {};\n    const adminSettingsRaw = data.admin || {};\n    const notificationsRaw = adminSettingsRaw.notifications || {};\n    const manualNotificationsRaw = notificationsRaw.manual || {};\n    const automatedQueueRaw = notificationsRaw.automatedQueue || {};\n    const allProductsRaw = data.products || {};\n    const headerButtonsRaw = adminSettingsRaw.header_buttons || {};\n\n    const processedMembers = {};\n    const allTransactions = Object.values(allTransactionsRaw);\n    // Loan objects ko array mein convert karo\n    const allActiveLoans = Object.values(allActiveLoansRaw);\n\n    // 1. Members Processing loop\n    for (const memberId in allMembersRaw) {\n        const member = allMembersRaw[memberId];\n        // Sirf approved members ko process karo\n        if (member.status !== 'Approved' || !member.fullName) continue;\n\n        const memberTransactions = allTransactions.filter(tx => tx.memberId === memberId);\n\n        let totalSipAmount = 0;\n        let totalReturn = 0;\n        let loanCount = 0;\n\n        memberTransactions.forEach(tx => {\n            if (tx.type === 'SIP') {\n                totalSipAmount += parseFloat(tx.amount || 0);\n            }\n            if (tx.type === 'Loan Payment') {\n                totalReturn += parseFloat(tx.interestPaid || 0);\n            }\n            if (tx.type === 'Loan Taken') {\n                loanCount++;\n            }\n        });\n\n        // Calculate Outstanding Loan\n        const memberActiveLoans = allActiveLoans.filter(loan => loan.memberId === memberId && loan.status === 'Active');\n        const totalOutstandingLoan = memberActiveLoans.reduce((sum, loan) => sum + parseFloat(loan.outstandingAmount || 0), 0);\n\n        // Final Balance Formula: Total SIP - Outstanding Loan\n        const displayBalanceOnCard = totalSipAmount - totalOutstandingLoan;\n\n        // Check if SIP is paid for current month\n        const now = new Date();\n        const currentMonthSip = memberTransactions.find(tx => \n            tx.type === 'SIP' &&\n            new Date(tx.date).getMonth() === now.getMonth() &&\n            new Date(tx.date).getFullYear() === now.getFullYear()\n        );\n\n        processedMembers[memberId] = {\n            ...member,\n            id: memberId,\n            name: member.fullName,\n            balance: displayBalanceOnCard,\n            totalReturn: totalReturn,\n            loanCount: loanCount,\n            displayImageUrl: member.profilePicUrl || DEFAULT_IMAGE,\n            // Case insensitive check for Prime Members\n            isPrime: PRIME_MEMBERS.some(p => p.trim().toLowerCase() === member.fullName.trim().toLowerCase()),\n            sipStatus: { \n                paid: !!currentMonthSip, \n                amount: currentMonthSip ? parseFloat(currentMonthSip.amount) : 0 \n            }\n        };\n    }\n\n    // Sort: Ameer members pehle (Descending order of balance)\n    const sortedMembers = Object.values(processedMembers).sort((a, b) => b.balance - a.balance);\n\n    // 2. Community Stats Calculation\n    const communityStats = calculateCommunityStats(sortedMembers, allTransactions, allActiveLoans, penaltyWalletRaw);\n\n    return {\n        processedMembers: sortedMembers,\n        allTransactions,\n        penaltyWalletData: penaltyWalletRaw,\n        adminSettings: adminSettingsRaw,\n        communityStats,\n        manualNotifications: manualNotificationsRaw,\n        automatedQueue: automatedQueueRaw,\n        allProducts: allProductsRaw,\n        headerButtons: headerButtonsRaw,\n    };\n}\n\n/**\n * Poore community ke liye aarthik (financial) stats calculate karta hai.\n */\nfunction calculateCommunityStats(processedMembers, allTransactions, allActiveLoans, penaltyWallet) {\n    let totalPureSipAmount = 0;\n\n    // Sirf 'SIP' transactions ko jodkar 'Total SIP Amount' banaya jayega.\n    allTransactions.forEach(tx => {\n        if (tx.type === 'SIP') {\n            totalPureSipAmount += parseFloat(tx.amount || 0);\n        }\n    });\n\n    const totalCurrentLoanAmount = allActiveLoans\n        .filter(loan => loan.status === 'Active')\n        .reduce((sum, loan) => sum + parseFloat(loan.outstandingAmount || 0), 0);\n\n    // 'Available Community Balance' ki calculation logic.\n    // Available = Total Jama Hua Paisa - Total Udhaar Diya Hua Paisa\n    const availableCommunityBalance = totalPureSipAmount - totalCurrentLoanAmount;\n\n    const totalInterestReceived = allTransactions\n        .filter(tx => tx.type === 'Loan Payment')\n        .reduce((sum, tx) => sum + parseFloat(tx.interestPaid || 0), 0);\n\n    const penaltyFromInterest = totalInterestReceived * 0.10; // 10% Deduction\n\n    const penaltyIncomes = Object.values(penaltyWallet.incomes || {});\n    const penaltyExpenses = Object.values(penaltyWallet.expenses || {});\n    const totalPenaltyIncomes = penaltyIncomes.reduce((sum, income) => sum + income.amount, 0);\n    const totalPenaltyExpenses = penaltyExpenses.reduce((sum, expense) => sum + expense.amount, 0);\n\n    return {\n        totalSipAmount: totalPureSipAmount, // Modal mein dikhane ke liye\n        totalCurrentLoanAmount,\n        netReturnAmount: totalInterestReceived - penaltyFromInterest,\n        availableCommunityBalance: availableCommunityBalance, // Sahi formula ke saath\n        totalPenaltyBalance: totalPenaltyIncomes - totalPenaltyExpenses,\n        totalLoanDisbursed: allTransactions.filter(tx => tx.type === 'Loan Taken').reduce((sum, tx) => sum + tx.amount, 0)\n    };\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 182, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/components/Header.js"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { Bell, DownloadCloud, ShoppingCart, TrendingUp, CreditCard, QrCode, Activity } from 'lucide-react';\n\nexport default function Header({ communityStats, totalMembers, adminSettings = {}, onOpenModal }) {\n  const [deferredPrompt, setDeferredPrompt] = useState(null);\n\n  // Install App Prompt Logic\n  useEffect(() => {\n    window.addEventListener('beforeinstallprompt', (e) => {\n      e.preventDefault();\n      setDeferredPrompt(e);\n    });\n  }, []);\n\n  const handleInstallClick = async () => {\n    if (deferredPrompt) {\n      deferredPrompt.prompt();\n      setDeferredPrompt(null);\n    } else {\n      alert(\"App is already installed or not supported in this browser.\");\n    }\n  };\n\n  return (\n    <header className=\"animate-on-scroll\">\n      {/* 1. Top Stats Box (Gold/Blue Gradient) */}\n      <div className=\"header-display\" id=\"headerDisplay\">\n        <div className=\"ad-content\">\n          <div className=\"ad-bank-stats-container\">\n             <img src=\"https://ik.imagekit.io/kdtvm0r78/IMG-20251202-WA0000.jpg\" alt=\"Bank Logo\" className=\"ad-bank-logo\" />\n             <ul className=\"ad-bank-stats\">\n                <li>Established: <strong>23 June 2024</strong></li>\n                <li>Total Members: <strong>{totalMembers || 0}</strong></li>\n                <li>Loan Disbursed: <strong>₹{(communityStats?.totalLoanDisbursed || 0).toLocaleString('en-IN')}</strong></li>\n             </ul>\n          </div>\n        </div>\n\n        {/* Marquee Text */}\n        <div className=\"ticker-wrap\">\n          <div className=\"ticker\">\n             ... Your trusted financial partner... Welcome to Trust Community Fund...\n          </div>\n        </div>\n      </div>\n\n      {/* 2. Main Title */}\n      <h1>Trust Community Fund</h1>\n      <h4>ESTD: 23 JUNE 2024</h4>\n\n      {/* 3. Action Buttons Row 1 */}\n      <div className=\"header-actions\" id=\"headerActionsContainer\">\n        <div className=\"dynamic-buttons-wrapper\">\n\n          {/* Profit Button */}\n          <button className=\"civil-button\" style={{ backgroundColor: 'white', color: '#002366', border: '1px solid #002366' }} onClick={() => alert('Profit Feature Coming Soon')}>\n            <TrendingUp size={18} /> <b>PROFIT</b>\n          </button>\n\n          {/* SIP Status Button */}\n          <button className=\"civil-button\" style={{ backgroundColor: '#FFD700', color: '#000' }} onClick={() => onOpenModal('sipStatus')}>\n            <CreditCard size={18} /> <b>SIP STATUS</b>\n          </button>\n\n        </div>\n\n        {/* 4. Action Buttons Row 2 */}\n        <div className=\"dynamic-buttons-wrapper\" style={{ marginTop: '10px' }}>\n\n           {/* QR Button */}\n           <button className=\"civil-button\" style={{ backgroundColor: 'white', color: '#000', border: '1px solid #ccc' }} onClick={() => alert('QR Code Coming Soon')}>\n             <QrCode size={18} /> <b>QR</b>\n           </button>\n\n           {/* Loan Button */}\n           <button className=\"civil-button\" style={{ backgroundColor: '#dc3545', color: 'white' }} onClick={() => window.open('loan_dashbord.html')}>\n             <Activity size={18} /> <b>LOAN</b>\n           </button>\n\n           {/* Notification Bell */}\n           <button className=\"notification-btn civil-button\" style={{ padding: '10px', backgroundColor: '#001540', border: '1px solid #FFD700' }} onClick={() => window.location.href='notifications.html'}>\n             <Bell size={18} color=\"#FFD700\" />\n             <span className=\"notification-dot\" id=\"notificationDot\"></span>\n           </button>\n\n        </div>\n\n        {/* 5. Big Buttons (Bank Store & Install) */}\n        <div className=\"dynamic-buttons-wrapper\" style={{ flexDirection: 'column', gap: '10px', marginTop: '10px' }}>\n            <button className=\"civil-button\" style={{ backgroundColor: '#00FFFF', color: '#000', width: '200px' }}>\n               <ShoppingCart size={18} /> <b>BANK STORE</b>\n            </button>\n\n            {deferredPrompt && (\n              <button className=\"civil-button\" style={{ backgroundColor: '#28a745', color: 'white', width: '200px' }} onClick={handleInstallClick}>\n                 <DownloadCloud size={18} /> <b>INSTALL APP</b>\n              </button>\n            )}\n        </div>\n\n      </div>\n    </header>\n  );\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 620, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/app/page.js"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { initFirebase } from '../lib/firebase';\nimport { processRawData, DEFAULT_IMAGE } from '../lib/utils';\nimport Header from '../components/Header';\n\nexport default function Home() {\n  const [data, setData] = useState({ processedMembers: [], communityStats: {} });\n  const [loading, setLoading] = useState(true);\n  const router = useRouter();\n\n  useEffect(() => {\n    let isMounted = true;\n    const run = async () => {\n      const firebase = await initFirebase();\n      if (!firebase) return;\n      const auth = firebase.auth();\n\n      auth.onAuthStateChanged(async (u) => {\n        if (!isMounted) return;\n        if (!u) {\n          router.push('/login');\n        } else {\n          const db = firebase.database();\n          const dbRef = db.ref();\n          dbRef.on('value', (snapshot) => {\n            if (!isMounted) return;\n            const processed = processRawData(snapshot.val());\n            setData(processed);\n            setLoading(false);\n          });\n        }\n      });\n    };\n    run();\n    return () => { isMounted = false; };\n  }, [router]);\n\n  if (loading) return (\n    <div style={{display:'flex', height:'100vh', alignItems:'center', justifyContent:'center', color:'#002366', fontWeight:'bold'}}>\n      Loading Trust Community...\n    </div>\n  );\n\n  return (\n    <main style={{ minHeight: '100vh', paddingBottom: '80px', backgroundColor: 'var(--bg-color)' }}>\n      <Header />\n\n      {/* Stats Section */}\n      <div style={{ padding: '20px' }}>\n        <div className=\"stats-card-luxury\">\n          <h3 style={{ margin: 0, color: '#555', fontSize: '0.9em', textTransform: 'uppercase', letterSpacing: '1px' }}>\n            Available Balance\n          </h3>\n          <h1 style={{ margin: '10px 0', color: 'var(--success-color)', fontSize: '2.5em', fontWeight: '800' }}>\n            ₹{(data.communityStats.availableCommunityBalance || 0).toLocaleString('en-IN')}\n          </h1>\n          <p style={{ margin: 0, fontSize: '0.9em', color: '#888' }}>\n            Total SIP: <strong>₹{(data.communityStats.totalSipAmount || 0).toLocaleString('en-IN')}</strong>\n          </p>\n        </div>\n      </div>\n\n      {/* Members Grid - Using Original Styling */}\n      <div style={{ padding: '0 20px' }}>\n        <h3 style={{ \n          color: 'var(--primary-color)', \n          borderBottom: '3px solid var(--accent-gold)', \n          paddingBottom: '5px', \n          display: 'inline-block',\n          fontSize: '1.2em',\n          fontWeight: '800',\n          textTransform: 'uppercase'\n        }}>\n          Community Members ({data.processedMembers.length})\n        </h3>\n\n        <div style={{ \n          display: 'grid', \n          gridTemplateColumns: 'repeat(auto-fill, minmax(110px, 1fr))', \n          gap: '15px', \n          marginTop: '20px' \n        }}>\n          {data.processedMembers.map((member, index) => (\n            <div key={member.id} className={index < 3 ? \"framed-card-wrapper gold-card\" : \"framed-card-wrapper\"} style={{height: 'auto', minHeight: '160px'}}>\n\n              {/* Card Logic: Top 3 get Special Frames (Image logic to be added later), currently showing clean cards */}\n              <div style={{ \n                background: 'white', \n                padding: '15px', \n                borderRadius: '12px', \n                textAlign: 'center', \n                boxShadow: '0 4px 10px rgba(0,0,0,0.1)',\n                border: '1px solid var(--border-color)',\n                height: '100%',\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center'\n              }}>\n                <img \n                  src={member.displayImageUrl || DEFAULT_IMAGE} \n                  style={{ \n                    width: '70px', \n                    height: '70px', \n                    borderRadius: '50%', \n                    objectFit: 'cover', \n                    border: '3px solid var(--accent-gold)',\n                    marginBottom: '10px'\n                  }} \n                />\n                <p style={{ \n                  margin: '0', \n                  fontWeight: '700', \n                  fontSize: '0.85em', \n                  color: 'var(--primary-color)',\n                  lineHeight: '1.2'\n                }}>\n                  {member.name}\n                </p>\n                <p style={{ \n                  margin: '5px 0 0 0', \n                  color: member.balance >= 0 ? 'var(--success-color)' : 'var(--danger-color)', \n                  fontSize: '0.9em', \n                  fontWeight: '900' \n                }}>\n                  ₹{member.balance.toLocaleString('en-IN')}\n                </p>\n              </div>\n\n            </div>\n          ))}\n        </div>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}