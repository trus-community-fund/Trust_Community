{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/lib/firebase.js"],"sourcesContent":["import firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\nimport 'firebase/compat/database';\n\nexport const initFirebase = async () => {\n  try {\n    // 1. Agar pehle se koi App hai, to check karo usme URL hai ya nahi\n    if (firebase.apps.length) {\n      const currentApp = firebase.app();\n      if (currentApp.options.databaseURL) {\n        return firebase; // Sab sahi hai\n      } else {\n        console.log(\"Old connection broken, resetting...\");\n        await currentApp.delete(); // Purana delete karo\n      }\n    }\n\n    // 2. Naya Connection banao\n    const response = await fetch('/api/config');\n    const data = await response.json();\n\n    // Hardcoded URL taaki error ka chance hi na rahe\n    const config = {\n      ...data.firebase,\n      databaseURL: \"https://bank-master-data-default-rtdb.asia-southeast1.firebasedatabase.app\"\n    };\n\n    firebase.initializeApp(config);\n    console.log(\"Firebase initialized with URL:\", config.databaseURL);\n\n    return firebase;\n  } catch (error) {\n    console.error(\"Firebase Init Error:\", error);\n    return null;\n  }\n};\n\nexport default firebase;\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AACA;;;;AAEO,MAAM,eAAe;IAC1B,IAAI;QACF,mEAAmE;QACnE,IAAI,qLAAQ,CAAC,IAAI,CAAC,MAAM,EAAE;YACxB,MAAM,aAAa,qLAAQ,CAAC,GAAG;YAC/B,IAAI,WAAW,OAAO,CAAC,WAAW,EAAE;gBAClC,OAAO,qLAAQ,EAAE,eAAe;YAClC,OAAO;gBACL,QAAQ,GAAG,CAAC;gBACZ,MAAM,WAAW,MAAM,IAAI,qBAAqB;YAClD;QACF;QAEA,2BAA2B;QAC3B,MAAM,WAAW,MAAM,MAAM;QAC7B,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,iDAAiD;QACjD,MAAM,SAAS;YACb,GAAG,KAAK,QAAQ;YAChB,aAAa;QACf;QAEA,qLAAQ,CAAC,aAAa,CAAC;QACvB,QAAQ,GAAG,CAAC,kCAAkC,OAAO,WAAW;QAEhE,OAAO,qLAAQ;IACjB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO;IACT;AACF;uCAEe,qLAAQ"}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/lib/utils.js"],"sourcesContent":["export const DEFAULT_IMAGE = 'https://i.ibb.co/HTNrbJxD/20250716-222246.png';\n\nexport function processRawData(data) {\n  if (!data) return { processedMembers: [], communityStats: {} };\n\n  const allMembersRaw = data.members || {};\n  const allTransactionsRaw = data.transactions || {};\n  const allActiveLoansRaw = data.activeLoans || {};\n\n  const allTransactions = Object.values(allTransactionsRaw);\n  const allActiveLoans = Object.values(allActiveLoansRaw);\n  const processedMembers = [];\n\n  // 1. Members Processing\n  for (const memberId in allMembersRaw) {\n    const member = allMembersRaw[memberId];\n    if (member.status !== 'Approved') continue;\n\n    const memberTransactions = allTransactions.filter(tx => tx.memberId === memberId);\n\n    // SIP Calculation\n    let totalSipAmount = 0;\n    memberTransactions.forEach(tx => {\n      if (tx.type === 'SIP') totalSipAmount += parseFloat(tx.amount || 0);\n    });\n\n    // Active Loan Calculation\n    const memberActiveLoans = allActiveLoans.filter(loan => loan.memberId === memberId && loan.status === 'Active');\n    const totalOutstanding = memberActiveLoans.reduce((sum, loan) => sum + parseFloat(loan.outstandingAmount || 0), 0);\n\n    // Balance on Card\n    const displayBalance = totalSipAmount - totalOutstanding;\n\n    processedMembers.push({\n      ...member,\n      id: memberId,\n      balance: displayBalance,\n      displayImageUrl: member.profilePicUrl || DEFAULT_IMAGE,\n    });\n  }\n\n  // Sorting: Rich members first\n  processedMembers.sort((a, b) => b.balance - a.balance);\n\n  // 2. Community Stats Calculation\n  let totalPureSip = 0;\n  allTransactions.forEach(tx => {\n    if (tx.type === 'SIP') totalPureSip += parseFloat(tx.amount || 0);\n  });\n\n  const totalCurrentLoans = allActiveLoans\n    .filter(loan => loan.status === 'Active')\n    .reduce((sum, loan) => sum + parseFloat(loan.outstandingAmount || 0), 0);\n\n  const availableBalance = totalPureSip - totalCurrentLoans;\n\n  return {\n    processedMembers,\n    communityStats: {\n      totalSipAmount: totalPureSip,\n      totalCurrentLoanAmount: totalCurrentLoans,\n      availableCommunityBalance: availableBalance\n    }\n  };\n}\n"],"names":[],"mappings":";;;;;;AAAO,MAAM,gBAAgB;AAEtB,SAAS,eAAe,IAAI;IACjC,IAAI,CAAC,MAAM,OAAO;QAAE,kBAAkB,EAAE;QAAE,gBAAgB,CAAC;IAAE;IAE7D,MAAM,gBAAgB,KAAK,OAAO,IAAI,CAAC;IACvC,MAAM,qBAAqB,KAAK,YAAY,IAAI,CAAC;IACjD,MAAM,oBAAoB,KAAK,WAAW,IAAI,CAAC;IAE/C,MAAM,kBAAkB,OAAO,MAAM,CAAC;IACtC,MAAM,iBAAiB,OAAO,MAAM,CAAC;IACrC,MAAM,mBAAmB,EAAE;IAE3B,wBAAwB;IACxB,IAAK,MAAM,YAAY,cAAe;QACpC,MAAM,SAAS,aAAa,CAAC,SAAS;QACtC,IAAI,OAAO,MAAM,KAAK,YAAY;QAElC,MAAM,qBAAqB,gBAAgB,MAAM,CAAC,CAAA,KAAM,GAAG,QAAQ,KAAK;QAExE,kBAAkB;QAClB,IAAI,iBAAiB;QACrB,mBAAmB,OAAO,CAAC,CAAA;YACzB,IAAI,GAAG,IAAI,KAAK,OAAO,kBAAkB,WAAW,GAAG,MAAM,IAAI;QACnE;QAEA,0BAA0B;QAC1B,MAAM,oBAAoB,eAAe,MAAM,CAAC,CAAA,OAAQ,KAAK,QAAQ,KAAK,YAAY,KAAK,MAAM,KAAK;QACtG,MAAM,mBAAmB,kBAAkB,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,WAAW,KAAK,iBAAiB,IAAI,IAAI;QAEhH,kBAAkB;QAClB,MAAM,iBAAiB,iBAAiB;QAExC,iBAAiB,IAAI,CAAC;YACpB,GAAG,MAAM;YACT,IAAI;YACJ,SAAS;YACT,iBAAiB,OAAO,aAAa,IAAI;QAC3C;IACF;IAEA,8BAA8B;IAC9B,iBAAiB,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,OAAO,GAAG,EAAE,OAAO;IAErD,iCAAiC;IACjC,IAAI,eAAe;IACnB,gBAAgB,OAAO,CAAC,CAAA;QACtB,IAAI,GAAG,IAAI,KAAK,OAAO,gBAAgB,WAAW,GAAG,MAAM,IAAI;IACjE;IAEA,MAAM,oBAAoB,eACvB,MAAM,CAAC,CAAA,OAAQ,KAAK,MAAM,KAAK,UAC/B,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,WAAW,KAAK,iBAAiB,IAAI,IAAI;IAExE,MAAM,mBAAmB,eAAe;IAExC,OAAO;QACL;QACA,gBAAgB;YACd,gBAAgB;YAChB,wBAAwB;YACxB,2BAA2B;QAC7B;IACF;AACF"}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/components/Header.js"],"sourcesContent":["import React from 'react';\n\nexport default function Header() {\n  return (\n    <header style={{\n      background: 'linear-gradient(160deg, #002366 0%, #001233 100%)',\n      color: 'white',\n      padding: '25px 0 35px 0',\n      textAlign: 'center',\n      borderBottom: '4px solid #D4AF37', // Gold Border\n      boxShadow: '0 4px 20px rgba(0,0,0,0.3)',\n      borderBottomLeftRadius: '20px',\n      borderBottomRightRadius: '20px',\n      marginBottom: '20px'\n    }}>\n      <div className=\"header-content\">\n        <h1 style={{\n          fontSize: '1.8em',\n          margin: '0 0 5px 0',\n          textShadow: '2px 2px 4px rgba(0,0,0,0.6)',\n          fontWeight: '800',\n          fontFamily: '\"Times New Roman\", serif',\n          letterSpacing: '0.5px'\n        }}>\n          Trust Community Fund\n        </h1>\n        <h4 style={{\n          color: 'rgba(255, 255, 255, 0.8)',\n          margin: '0',\n          fontWeight: '400',\n          fontSize: '0.9em',\n          letterSpacing: '2px',\n          textTransform: 'uppercase'\n        }}>\n          ESTD: 23 June 2024\n        </h4>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAEe,SAAS;IACtB,qBACE,8OAAC;QAAO,OAAO;YACb,YAAY;YACZ,OAAO;YACP,SAAS;YACT,WAAW;YACX,cAAc;YACd,WAAW;YACX,wBAAwB;YACxB,yBAAyB;YACzB,cAAc;QAChB;kBACE,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,OAAO;wBACT,UAAU;wBACV,QAAQ;wBACR,YAAY;wBACZ,YAAY;wBACZ,YAAY;wBACZ,eAAe;oBACjB;8BAAG;;;;;;8BAGH,8OAAC;oBAAG,OAAO;wBACT,OAAO;wBACP,QAAQ;wBACR,YAAY;wBACZ,UAAU;wBACV,eAAe;wBACf,eAAe;oBACjB;8BAAG;;;;;;;;;;;;;;;;;AAMX"}},
    {"offset": {"line": 254, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/app/page.js"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { initFirebase } from '../lib/firebase';\nimport { processRawData, DEFAULT_IMAGE } from '../lib/utils';\nimport Header from '../components/Header';\n\nexport default function Home() {\n  const [data, setData] = useState({ processedMembers: [], communityStats: {} });\n  const [loading, setLoading] = useState(true);\n  const router = useRouter();\n\n  useEffect(() => {\n    let isMounted = true;\n    const run = async () => {\n      const firebase = await initFirebase();\n      if (!firebase) return;\n      const auth = firebase.auth();\n\n      auth.onAuthStateChanged(async (u) => {\n        if (!isMounted) return;\n        if (!u) {\n          router.push('/login');\n        } else {\n          const db = firebase.database();\n          const dbRef = db.ref();\n          dbRef.on('value', (snapshot) => {\n            if (!isMounted) return;\n            const processed = processRawData(snapshot.val());\n            setData(processed);\n            setLoading(false);\n          });\n        }\n      });\n    };\n    run();\n    return () => { isMounted = false; };\n  }, [router]);\n\n  if (loading) return (\n    <div style={{display:'flex', height:'100vh', alignItems:'center', justifyContent:'center', color:'#002366', fontWeight:'bold'}}>\n      Loading Trust Community...\n    </div>\n  );\n\n  return (\n    <main style={{ minHeight: '100vh', paddingBottom: '80px', backgroundColor: 'var(--bg-color)' }}>\n      <Header />\n\n      {/* Stats Section */}\n      <div style={{ padding: '20px' }}>\n        <div className=\"stats-card-luxury\">\n          <h3 style={{ margin: 0, color: '#555', fontSize: '0.9em', textTransform: 'uppercase', letterSpacing: '1px' }}>\n            Available Balance\n          </h3>\n          <h1 style={{ margin: '10px 0', color: 'var(--success-color)', fontSize: '2.5em', fontWeight: '800' }}>\n            ₹{(data.communityStats.availableCommunityBalance || 0).toLocaleString('en-IN')}\n          </h1>\n          <p style={{ margin: 0, fontSize: '0.9em', color: '#888' }}>\n            Total SIP: <strong>₹{(data.communityStats.totalSipAmount || 0).toLocaleString('en-IN')}</strong>\n          </p>\n        </div>\n      </div>\n\n      {/* Members Grid - Using Original Styling */}\n      <div style={{ padding: '0 20px' }}>\n        <h3 style={{ \n          color: 'var(--primary-color)', \n          borderBottom: '3px solid var(--accent-gold)', \n          paddingBottom: '5px', \n          display: 'inline-block',\n          fontSize: '1.2em',\n          fontWeight: '800',\n          textTransform: 'uppercase'\n        }}>\n          Community Members ({data.processedMembers.length})\n        </h3>\n\n        <div style={{ \n          display: 'grid', \n          gridTemplateColumns: 'repeat(auto-fill, minmax(110px, 1fr))', \n          gap: '15px', \n          marginTop: '20px' \n        }}>\n          {data.processedMembers.map((member, index) => (\n            <div key={member.id} className={index < 3 ? \"framed-card-wrapper gold-card\" : \"framed-card-wrapper\"} style={{height: 'auto', minHeight: '160px'}}>\n\n              {/* Card Logic: Top 3 get Special Frames (Image logic to be added later), currently showing clean cards */}\n              <div style={{ \n                background: 'white', \n                padding: '15px', \n                borderRadius: '12px', \n                textAlign: 'center', \n                boxShadow: '0 4px 10px rgba(0,0,0,0.1)',\n                border: '1px solid var(--border-color)',\n                height: '100%',\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center'\n              }}>\n                <img \n                  src={member.displayImageUrl || DEFAULT_IMAGE} \n                  style={{ \n                    width: '70px', \n                    height: '70px', \n                    borderRadius: '50%', \n                    objectFit: 'cover', \n                    border: '3px solid var(--accent-gold)',\n                    marginBottom: '10px'\n                  }} \n                />\n                <p style={{ \n                  margin: '0', \n                  fontWeight: '700', \n                  fontSize: '0.85em', \n                  color: 'var(--primary-color)',\n                  lineHeight: '1.2'\n                }}>\n                  {member.name}\n                </p>\n                <p style={{ \n                  margin: '5px 0 0 0', \n                  color: member.balance >= 0 ? 'var(--success-color)' : 'var(--danger-color)', \n                  fontSize: '0.9em', \n                  fontWeight: '900' \n                }}>\n                  ₹{member.balance.toLocaleString('en-IN')}\n                </p>\n              </div>\n\n            </div>\n          ))}\n        </div>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}